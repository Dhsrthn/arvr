<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>AR Tour Guide</title>
        <script src="https://cdn.jsdelivr.net/gh/aframevr/aframe@1c2407b26c61958baa93967b5412487cd94b290b/dist/aframe-master.min.js"></script>
        <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
        <script src="./build/aframe-ar.min.js"></script>
    </head>

    <link rel="stylesheet" href="./index.css" />
    <script src="./places.js"></script>

    <body style="margin: 0; overflow: hidden">
        <!-- Maybe add a whole UI wrapper with a div for displaying application name and a border on all sides of the a-scene -->
        <a-scene
            cursor="rayOrigin: mouse; fuse: false; fuseTimeout: 0;"
            raycaster="objects: [gps-entity-place]; far:1000; "
            vr-mode-ui="enabled: false"
            embedded
            gpsMinDistance="1"
            arjs="sourceType: webcam; sourceWidth:1280; sourceHeight:960; displayWidth: 1280; displayHeight: 960; debugUIEnabled: false;"
            maxDistance="100"
            gpsTimeInterval="0"
        >
            <a-camera gps-camera rotation-reader> </a-camera>
        </a-scene>

        <!-- Three buttons here -->
        <div
            style="
                display: flex;
                justify-content: center;
                align-items: center;
                gap: 10px;
                width: 100%;
                height: 10%;
                position: absolute;
                bottom: 50px;
                left: 0;
                z-index: 1000;
            "
        >
            <button
                id="sample-btn"
                class="mode-btn"
                style="width: 20%; height: 100%"
                onclick="modeChange('sample')"
            >
                Sample Mode
            </button>
            <button
                id="api-btn"
                class="mode-btn"
                style="width: 20%; height: 100%"
                onclick="modeChange('api')"
            >
                API Mode
            </button>
            <button
                id="json-btn"
                class="mode-btn"
                style="width: 20%; height: 100%"
                onclick="modeChange('json')"
            >
                JSON Mode
            </button>
        </div>

        <input
            type="file"
            id="jsonUpload"
            accept=".json"
            style="display: none"
            onchange="handleFileUpload(event)"
        />

        <div
            id="info-dialog"
            style="
                position: fixed;
                top: 20%;
                left: 50%;
                transform: translate(-50%, -50%);
                width: 300px;
                padding: 20px;
                background-color: #f0f0f0;
                border-radius: 8px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
                text-align: center;
                z-index: 1000;
            "
        >
            <p>
                Initializing AR Tour Guide. Please wait for a moment. This
                message will disappear once the initialization is complete.
                Intial Mode is set to Sample Mode.
            </p>
            <button onclick="closeDialog()">Close Now</button>
        </div>
    </body>
</html>
